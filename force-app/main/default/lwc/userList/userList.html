<template>
    <lightning-card title="Salesforce User Directory" icon-name="standard:user">
        <div class="slds-card__body slds-card__body_inner slds-p-top_xx-small">
            <div class="slds-p-bottom_large">
                <table 
                    class="slds-table slds-table_cell-buffer slds-no-row-hover slds-table_bordered slds-table_col-bordered slds-table_fixed-layout" 
                    role="grid" 
                    aria-label="Users Table"
                >
                    <thead>
                        <tr class="slds-line-height_reset">
                            <th class="" scope="col">
                                <div class="slds-truncate" title="Name">Name</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate" title="Title">Title</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate" title="Username">Username</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate" title="Phone">Phone</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate" title="Department">Department</div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <template for:each={users} for:item="user">
                            <tr key={user.Id}>
                                <th scope="row">
                                    <div class="slds-truncate" title="User Name">{user.Name}</div>
                                </th>
                                <td>
                                    <div class="slds-truncate" title="User Title">{user.Title}</div>
                                </td>
                                <td>
                                    <div class="slds-truncate" title="User Email">{user.Email}</div>
                                </td>
                                <td>
                                    <div class="slds-truncate" title="User Phone">{user.Phone}</div>
                                </td>
                                <td>
                                    <div class="slds-truncate" title="User Department">{user.Department}</div>
                                </td>
                            </tr>
                        </template>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td class="total" colspan='5'>
                                <div class="slds-truncate" title="Total Users">Total Users: {numberOfUsers}</div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>

            <div class="slds-text-title_bold slds-p-bottom_small">Unique Departments in the Company</div>
            <div class="slds-p-left_medium slds-p-bottom_large">
                <ul class="slds-list_vertical-space">
                    <template for:each={departments} for:item="department">
                        <li key={department.Id}>{department.Name}</li>
                    </template>
                </ul>
            </div>

            <div class="slds-text-title_bold slds-p-bottom_x-small">Create User</div>
            <div class="slds-grid slds-wrap">
                <div class="slds-col slds-size_1-of-1 slds-medium-size_8-of-12 slds-large-size_4-of-12">
                    <lightning-record-form object-api-name={objectApiName} fields={fields} onsubmit={handleClick}>
                    </lightning-record-form>
                </div>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_2-of-12 slds-large-size_4-of-12">
                </div>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_2-of-12 slds-large-size_4-of-12">
                </div>
            </div>
        </div>
    </lightning-card>
</template>