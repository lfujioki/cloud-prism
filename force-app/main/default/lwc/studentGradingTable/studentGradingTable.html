<template>
    <lightning-card title="Participant Grading" icon-name="custom:custom15">
        <div class="slds-var-m-around_medium">

            <div if:true={showSpinner}>
                <lightning-spinner variant="brand" size="medium"></lightning-spinner>
            </div>

            <c-participant-search-panel 
                record-id={recordId} 
                show-search={showSearch} 
                error-message={errorMessage}
                onaddrow={handleAddParticipant} 
                onaddrowerror={handleAddParticipantError}>
            </c-participant-search-panel>

            <div class="slds-is-relative">
                <lightning-datatable 
                    key-field="participantId" 
                    data={participants} 
                    errors={errors}
                    show-row-number-column 
                    columns={columns} 
                    draft-values={draftValues} 
                    onsave={handleSave} 
                    onrowaction={handleRowAction}>
                </lightning-datatable>
            </div>

        </div>
    </lightning-card>
</template>